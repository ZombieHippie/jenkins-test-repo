clone:
  depth: 10
cache:
  mount:
    - node_modules
    - .git
environment:
  - CLICOLOR_FORCE=1
  - FORCE_COLOR=1

build:
  image: node:6
  commands:
    - npm install --quiet --color --unsafe-perm
    - npm test --quiet --color --unsafe-perm
publish:
  sftp:
    host: 107.170.142.151
    port: 22
    username: coverage-uploader
    password: coverage-92sWinish
    destination_path: /var/www/coverage/$$BRANCH
    files:
      - lint.xml
      - coverage/*